(this["webpackJsonpns-admin"]=this["webpackJsonpns-admin"]||[]).push([[0],{135:function(e,t,a){},270:function(e,t,a){"use strict";a.r(t);var c=a(0),n=a.n(c),r=a(31),s=a.n(r),i=(a(135),a(8)),l=a.n(i),o=a(12),b=a(3),d=a(271),u=a(17),j=a(9),x=a(7),h=a(16),m=a(1),p=Object(c.createContext)(),f=function(){return Object(c.useContext)(p)},O=function(e,t){switch(t.type){case"auth":return Object(x.a)(Object(x.a)({},e),{},{auth:t.value});case"sidebarToggle":return Object(x.a)(Object(x.a)({},e),{},{sidebarExpanded:!e.sidebarExpanded});case"sidebarExpanded":return Object(x.a)(Object(x.a)({},e),{},{sidebarExpanded:t.value});case"titlePage":return Object(x.a)(Object(x.a)({},e),{},{titlePage:t.value});case"formMapping":return Object(x.a)(Object(x.a)({},e),{},{formMapping:t.value});case"basicInformation":return Object(x.a)(Object(x.a)({},e),{},{basicInformation:Object(x.a)(Object(x.a)({},e.basicInformation),t.value)});default:throw new Error}};function g(e){var t=e.children,a=Object(c.useReducer)(O,{auth:!1,sidebarExpanded:!0,titlePage:"Dashboard",formMapping:{},basicInformation:{}}),n=Object(b.a)(a,2),r=n[0],s=n[1];return Object(m.jsx)(p.Provider,{value:{state:r,dispatch:s},children:t})}function v(e){var t=e.children,a=f().state;return Object(m.jsx)("div",{className:a.sidebarExpanded?"lg:ml-56 p-5 transition-all duration-500":"lg:ml-20 p-5 transition-all duration-500",children:t})}var y=a(10),w=a(11);function N(e){var t=e.label,a=e.path,c=e.icon,n=e.expanded,r="flex px-5 py-2 items-center roboto hover:text-white bg-primary text-sm";return window.location.pathname.match(new RegExp("^".concat(a)))?r+=" bg-primary-900":r+=" text-primary-50",n||(r+=" lg:justify-center"),Object(m.jsx)("li",{children:Object(m.jsxs)(u.b,{to:a,className:r,children:[Object(m.jsx)("span",{className:"w-6 h-6 flex justify-center items-center",children:Object(m.jsx)(w.a,{icon:c})}),Object(m.jsx)("span",{className:n?"hidden lg:block ml-2":"ml-2 lg:hidden",children:t})]})})}var k=a(129);function C(){var e,t,a=f(),n=Object(c.useState)(a.state.sidebarExpanded),r=Object(b.a)(n,2),s=r[0],i=r[1];return Object(c.useEffect)((function(){var e;return a.state.sidebarExpanded&&!s?e=setTimeout((function(){i(!0)}),500):i(a.state.sidebarExpanded),function(){e&&clearTimeout(e)}}),[a.state.sidebarExpanded]),Object(m.jsx)("div",{className:a.state.sidebarExpanded?"fixed top-0 left-0 bg-primary-800 text-white w-0 lg:w-56 transition-all duration-500 z-10":"fixed top-0 left-0 bg-primary-800 text-white w-full lg:w-20 transition-all duration-500 z-10",style:{boxShadow:"0 5px 10px rgba(0,0,0,0.3)"},children:Object(m.jsxs)(k.a,{className:"h-screen",options:{scrollbars:{autoHide:"scroll"}},children:[Object(m.jsxs)("div",{className:"flex montserrat font-bold h-16 items-center justify-between p-5 shadow-md",children:[Object(m.jsx)("span",{className:s?"hidden lg:block":"block lg:hidden",children:"Admin Panel"}),Object(m.jsx)("span",{className:s?"block lg:hidden":"hidden lg:block",children:"A-Pa"}),Object(m.jsx)("button",{className:"text-white rounded-none w-8 h-8 flex justify-center items-center text-lg lg:hidden",type:"button",onClick:function(){a.dispatch({type:"sidebarExpanded",value:!0})},children:Object(m.jsx)(w.a,{icon:y.faTimes})})]}),Object(m.jsxs)("ul",{className:"my-5",children:[Object(m.jsx)(N,{label:"Dashboard",icon:y.faTv,path:"/dashboard",expanded:s}),Object(m.jsx)(N,{label:"Informasi Dasar",icon:y.faAddressCard,path:"/basic-information",expanded:s}),Object(m.jsx)(N,{label:"Blog",icon:y.faNewspaper,path:"/blog",expanded:s}),null===(e=a.state.formMapping.postType)||void 0===e?void 0:e.map((function(e,t){return Object(m.jsx)(N,{label:e.name,icon:y[e.icon]||y.faArchive,path:"/".concat(e.key),expanded:s},"".concat(t))})),null===(t=a.state.formMapping.gallery)||void 0===t?void 0:t.map((function(e,t){return Object(m.jsx)(N,{label:e.name,icon:y[e.icon]||y.faImages,path:"/gallery/".concat(e.for),expanded:s},"".concat(t))}))]})]})})}var P=a(39),S=a.n(P),T="https://ak-cms.akbaraditama.com",E=S.a.create({baseURL:T+"/api"});function L(){var e=Object(c.useState)(!1),t=Object(b.a)(e,2),a=t[0],n=t[1],r=f(),s=Object(d.a)([]),i=Object(b.a)(s,3),l=(i[0],i[1],i[2]),o=Object(j.g)();return Object(m.jsxs)("div",{className:"ml-auto mr-7 relative",children:[Object(m.jsx)("button",{className:"rounded-full w-10 h-10 bg-gray-200 shadow-sm text-primary-800",type:"button",onClick:function(){return n((function(e){return!e}))},children:Object(m.jsx)(w.a,{icon:y.faUser})}),Object(m.jsxs)("div",{className:a?"absolute right-0 py-2 bg-white shadow w-56 rounded-lg block":"absolute right-0 py-2 bg-white shadow w-56 rounded-lg hidden",children:[Object(m.jsx)(u.b,{to:"/change-password",className:"px-5 py-2 roboto text-gray-600 block text-sm",onClick:function(){n(!1)},children:"Ganti Password"}),Object(m.jsx)("a",{href:"#",className:"px-5 py-2 roboto text-gray-600 block text-sm",onClick:function(){E.defaults.headers.common.Authorization=void 0,l("token",{path:"/"}),r.dispatch({type:"formMapping",value:{}}),r.dispatch({type:"auth",value:!1}),o.push("/")},children:"Logout"})]})]})}var B=a(67);function D(){var e=f();return Object(m.jsxs)(c.Fragment,{children:[Object(m.jsx)(B.a,{children:Object(m.jsx)("title",{children:e.state.titlePage})}),Object(m.jsx)(C,{}),Object(m.jsxs)("div",{className:e.state.sidebarExpanded?"bg-white h-16 shadow-sm lg:pl-56 flex items-center transition-all duration-500":"bg-white h-16 shadow-sm lg:pl-20 flex items-center transition-all duration-500",children:[Object(m.jsx)("button",{className:"rounded-none mx-5 text-primary-900 w-5 h-5 flex justify-center items-center",onClick:function(){e.dispatch({type:"sidebarToggle"})},children:Object(m.jsx)(w.a,{icon:y.faBars})}),Object(m.jsx)("div",{className:"roboto font-bold text-gray-600",children:e.state.titlePage}),Object(m.jsx)(L,{})]})]})}function M(e){var t=e.path,a=e.children,n=Object(h.a)(e,["path","children"]),r=f(),s=Object(j.h)();return Object(c.useEffect)((function(){r.dispatch({type:"sidebarExpanded",value:!0}),window.scrollTo(0,0)}),[s]),Object(m.jsx)(j.b,Object(x.a)(Object(x.a)({path:t},n),{},{render:function(e){var t,c=e.location;return(null===(t=r.state)||void 0===t?void 0:t.auth)?Object(m.jsxs)("div",{className:"min-h-screen bg-primary-50",children:[Object(m.jsx)(D,{}),Object(m.jsx)(v,{children:a})]}):Object(m.jsx)(j.a,{to:{pathname:"/login",state:{from:c}}})}}))}var R=a(14);function A(e){var t=e.children,a=e.color,n=void 0===a?"red":a,r=e.className,s=e.collapse,i=void 0!==s&&s,l=Object(c.useState)(!0),o=Object(b.a)(l,2),d=o[0],u=o[1],j="px-5 py-3";return n&&(j+=" bg-"+n+"-200 text-"+n+"-900"),r&&(j+=" "+r),i&&!d?j+=" hidden":i&&(j+=" flex items-start"),Object(m.jsxs)("div",{className:j,children:[i?Object(m.jsx)("span",{className:"flex-1",children:t}):t,i?Object(m.jsx)("button",{type:"button",onClick:function(){return u(!1)},className:"px-1",children:Object(m.jsx)(w.a,{icon:y.faTimes})}):null]})}function F(e){var t=e.className,a=e.children,c=Object(h.a)(e,["className","children"]),n="p-2 px-5 text-white roboto rounded-none";return t&&(n+=" "+t),Object(m.jsx)("button",Object(x.a)(Object(x.a)({className:n},c),{},{children:a}))}function I(e){var t=e.children;return Object(m.jsx)("div",{className:"bg-white box-border p-5",children:t})}var z=a(130),U=function(e){var t=e.label,a=void 0===t?"":t,n=e.value,r=e.onChange,s=e.withoutPreview,i=void 0!==s&&s,l=Object(h.a)(e,["label","value","onChange","withoutPreview"]),o=Object(c.useCallback)((function(e){r(e)}),[]),b=Object(z.a)(Object(x.a)({onDrop:o},l)),d=b.getRootProps,u=b.getInputProps,j=b.isDragActive;return Object(m.jsxs)("div",{className:"mb-3",children:[a&&Object(m.jsx)("label",{className:"roboto text-gray-700",children:a}),Object(m.jsxs)("div",Object(x.a)(Object(x.a)({},d()),{},{className:j?"h-32 flex justify-center items-center bg-primary-100 text-center relative":"h-32 flex justify-center items-center bg-gray-100 text-center relative",children:[n&&!i&&Object(m.jsx)("img",{src:"string"===typeof n?n.replace("public",T):URL.createObjectURL(n),alt:"Preview",className:"w-full h-full object-contain absolute top-0 left-0 opacity-50"}),Object(m.jsx)("input",Object(x.a)({},u())),j?Object(m.jsx)("p",{className:"z-10",children:"Lepaskan file disini"}):Object(m.jsx)("p",{className:"z-10",children:"Tarik & lepaskan file disini atau klik untuk memilih"})]}))]})},q=(0,a(0).forwardRef)((function(e,t){var a=e.label,c=e.error,n=Object(h.a)(e,["label","error"]);return Object(m.jsxs)("div",{className:"mb-3",children:[Object(m.jsx)("label",{className:"roboto text-gray-700",children:a}),Object(m.jsx)("input",Object(x.a)(Object(x.a)({ref:t},n),{},{className:"border border-gray-300 block rounded-none w-full my-1 p-2 text-gray-600"})),c&&Object(m.jsx)("span",{className:"text-sm text-red-600",children:c})]})})),G=(0,a(0).forwardRef)((function(e,t){var a=e.label,c=e.error,n=Object(h.a)(e,["label","error"]);return Object(m.jsxs)("div",{className:"mb-3",children:[Object(m.jsx)("label",{className:"roboto text-gray-700",children:a}),Object(m.jsx)("textarea",Object(x.a)(Object(x.a)({ref:t},n),{},{className:"border border-gray-300 block rounded-none w-full my-1 p-2 text-gray-600"})),c&&Object(m.jsx)("span",{className:"text-sm text-red-600",children:c})]})}));function H(){return Object(m.jsx)("div",{className:"w-full h-screen fixed top-0 left-0 bg-black opacity-50 z-50 justify-center items-center flex",children:Object(m.jsx)("div",{className:"loader-white"})})}function J(){var e,t=f(),a=Object(c.useState)(!1),n=Object(b.a)(a,2),r=n[0],s=n[1],i=Object(R.b)({defaultValues:t.state.basicInformation}),l=i.register,o=i.control,d=i.handleSubmit,u=Object(c.useState)(!1),j=Object(b.a)(u,2),h=j[0],p=j[1];return Object(c.useEffect)((function(){t.dispatch({type:"titlePage",value:"Informasi Dasar"})}),[]),Object(m.jsxs)(I,{children:[r&&Object(m.jsx)(H,{}),Object(m.jsxs)("form",{className:"lg:w-1/2",onSubmit:d((function(e){p(!1),s(!0);var a=new FormData;for(var c in e)a.append(c,e[c]);E.put("/basic-information",a,{headers:{"Content-Type":"multipart/form-data"}}).then((function(e){s(!1),window.scrollTo(0,0),p(!0),t.dispatch({type:"basicInformation",value:e.data.success.data})})).catch((function(e){s(!1)}))})),children:[h&&Object(m.jsx)(A,{color:"green",className:"mb-5",collapse:!0,children:"Berhasil memperbaharui informasi"}),null===(e=t.state.formMapping.basicInformation)||void 0===e?void 0:e.map((function(e,t){return"string"===e.type?Object(m.jsx)(q,Object(x.a)({label:e.name},l(e.key)),"".concat(t)):"text"===e.type?Object(m.jsx)(G,Object(x.a)({rows:5,label:e.name},l(e.key)),"".concat(t)):"upload"===e.type&&Object(m.jsx)(R.a,{control:o,name:e.key,render:function(t){var a=t.field,c=a.onChange,n=a.value;return Object(m.jsx)(U,{value:n,label:e.name,onChange:function(e){c(e[0])}})}},"".concat(t))})),Object(m.jsx)(F,{type:"submit",className:"bg-blue-600",children:"Simpan"})]})]})}var K=a(126),V=Object(c.forwardRef)((function(e,t){var a=e.label,c=e.error,n=Object(h.a)(e,["label","error"]);return Object(m.jsxs)("div",{className:"mb-3",children:[Object(m.jsx)("label",{className:"roboto text-gray-700",children:a}),Object(m.jsx)(K.a,Object(x.a)({ref:t,classNamePrefix:"react-select"},n)),c&&Object(m.jsx)("span",{className:"text-sm text-red-600",children:c})]})}));function Y(){return Object(m.jsx)("div",{className:"w-full h-64 flex justify-center items-center",children:Object(m.jsx)("div",{className:"loader-black"})})}var Q=a(72),W=a.n(Q),X=(a(268),Object(c.forwardRef)((function(e,t){var a=e.initialShown,n=void 0!==a&&a,r=e.title,s=e.children,i=e.onHide,l=void 0===i?function(){}:i,o=Object(c.useState)(n),d=Object(b.a)(o,2),u=d[0],j=d[1];return Object(c.useImperativeHandle)(t,(function(){return{show:function(){return j(!0)},hide:function(){return j(!1)}}})),Object(c.useEffect)((function(){u||l()}),[u]),u?Object(m.jsxs)(c.Fragment,{children:[Object(m.jsx)("div",{className:u?"bg-black fixed top-0 left-0 right-0 h-screen z-20 bg-opacity-50 block":"bg-black fixed top-0 left-0 right-0 h-screen z-20 bg-opacity-50 hidden"}),Object(m.jsx)("div",{className:"fixed top-0 left-0 right-0 h-screen z-20 flex justify-center items-start p-5 overflow-y-auto",children:Object(m.jsxs)("div",{className:"bg-white w-full md:w-3/4 lg:w-3/5 h-auto rounded-lg my-5",children:[Object(m.jsxs)("div",{className:"flex justify-between items-center p-5 rounded-t-lg shadow-sm",children:[Object(m.jsx)("h4",{className:"roboto font-bold text-lg text-gray-700",children:r}),Object(m.jsx)("button",{className:"w-8 h-8 flex justify-center items-center",type:"button",onClick:function(){return j(!1)},children:Object(m.jsx)(w.a,{icon:y.faTimes})})]}),Object(m.jsx)("div",{className:"p-5",children:s})]})})]}):null}))),Z=a(127),$=a.n(Z);Q.Quill.register("modules/imageResize",$.a);var _=n.a.forwardRef((function(e,t){var a=e.label,n=Object(h.a)(e,["label"]),r=Object(c.useRef)(null),s=Object(c.useState)(null),i=Object(b.a)(s,2),d=i[0],u=i[1],j=Object(c.useState)(""),p=Object(b.a)(j,2),f=p[0],O=p[1],g=Object(c.useRef)(null),v=Object(c.useCallback)((function(){Object(o.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r.current.show();case 1:case"end":return e.stop()}}),e)})))()}),[]);return Object(m.jsxs)("div",{className:"mb-3",children:[Object(m.jsx)("label",{className:"roboto text-gray-700",children:a}),Object(m.jsx)(W.a,Object(x.a)({className:"noreset",ref:function(e){g.current=e},theme:"snow",modules:{imageResize:{parchment:Q.Quill.import("parchment")},toolbar:{container:[[{header:[1,2,!1]}],["bold","italic","underline","strike","blockquote"],[{list:"ordered"},{list:"bullet"},{indent:"-1"},{indent:"+1"}],[{align:[]}],["link","image"],["clean"],[{color:[]}]],handlers:{image:v}}}},n)),Object(m.jsx)(X,{ref:r,title:"Tambah Gambar",onHide:function(){d?(d.cancel(),u(null)):f&&O("")},children:f?Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("img",{alt:"Preview",src:f.replace("public",T),className:"max-w-full"}),Object(m.jsx)("div",{className:"flex justify-end my-3",children:Object(m.jsx)(F,{className:"bg-green-600",type:"button",onClick:function(){var e=g.current.getEditorSelection(),t=f.replace("public",T);g.current.getEditor().insertEmbed(e.index,"image",t),r.current.hide()},children:"Tambah"})})]}):d?Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("div",{className:"font-bold roboto text-gray-600 text-center mb-5",children:"Mengunggah"}),Object(m.jsxs)("div",{className:"w-full h-6 bg-gray-300 text-right relative",children:[Object(m.jsx)("div",{className:"absolute top-0 h-full bg-blue-600",style:{width:"".concat(d.progress,"%")}}),d.progress,"%"]})]}):Object(m.jsx)(U,{onChange:function(e){!function(e){var t=S.a.CancelToken.source();u({cancel:t.cancel,progress:0});var a=new FormData;a.append("image",e[0]),E.post("/image",a,{cancelToken:t.token,onUploadProgress:function(e){u((function(t){var a=t;return a.progress=Math.round(100*e.loaded/e.total),Object(x.a)({},a)}))}}).then((function(e){u(null),O(e.data.success.data.url)})).catch((function(e){u(null)}))}(e)}})})]})}));function ee(){var e,t,a,n,r,s,i,l,o=f(),d=Object(R.b)({defaultValues:{title:"",thumbnail:"",text:""}}),u=d.register,h=d.handleSubmit,p=d.control,O=d.reset,g=Object(R.c)({control:p}).errors,v=Object(j.i)(),y=v.type,w=v.action,N=v.id,k=Object(j.g)(),C=Object(c.useState)({}),P=Object(b.a)(C,2),S=P[0],T=P[1],L=Object(c.useState)(!1),B=Object(b.a)(L,2),D=B[0],M=B[1],A=Object(c.useState)(!1),z=Object(b.a)(A,2),J=z[0],K=z[1];return Object(c.useEffect)((function(){var e,t=null===(e=o.state.formMapping.postType)||void 0===e?void 0:e.find((function(e){return e.key===y}));t?(T(t),o.dispatch({type:"titlePage",value:("add"===w?"Tambah ":"Edit ")+t.name})):k.push("/"),"edit"===w&&(M(!0),E.get("/post/id/".concat(N)).then((function(e){var t=e.data.success.data,a=t.title,c=t.text,n=t.thumbnail;O({title:a,text:c,thumbnail:n}),M(!1)})).catch((function(e){M(!1)})))}),[]),Object(m.jsxs)(I,{children:[J&&Object(m.jsx)(H,{}),D?Object(m.jsx)(Y,{}):Object(m.jsxs)("form",{onSubmit:h((function(e){var t=new FormData;for(var a in e)t.append(a,e[a]);K(!0),E({url:"edit"===w?"/post/".concat(y,"/").concat(N):"/post/".concat(y),data:t,method:"edit"===w?"PUT":"POST"}).then((function(e){k.push("/"+y)})).catch((function(e){K(!1)}))})),children:[Object(m.jsx)(q,Object(x.a)({type:"text",label:null===(e=S.title)||void 0===e?void 0:e.name,error:null===g||void 0===g||null===(t=g.title)||void 0===t?void 0:t.message},u("title",{required:"Tidak boleh kosong"}))),Array.isArray(null===(a=S.thumbnail)||void 0===a?void 0:a.type)&&Object(m.jsx)(R.a,{control:p,name:"thumbnail",render:function(e){var t,a,c,n,r=e.field,s=r.value,i=r.onChange;return Object(m.jsx)(V,{onChange:function(e){var t=e.value;return i(t)},label:null===(t=S.thumbnail)||void 0===t?void 0:t.name,options:null===(a=S.thumbnail)||void 0===a?void 0:a.type,value:null===(c=S.thumbnail)||void 0===c?void 0:c.type.find((function(e){return e.value===s})),error:null===g||void 0===g||null===(n=g.thumbnail)||void 0===n?void 0:n.message})}}),"upload"===(null===(n=S.thumbnail)||void 0===n?void 0:n.type)&&Object(m.jsx)(R.a,{control:p,name:"thumbnail",render:function(e){var t,a=e.field,c=a.onChange,n=a.value;return Object(m.jsx)(U,{value:n,label:null===(t=S.thumbnail)||void 0===t?void 0:t.name,onChange:function(e){c(e[0])}})}}),"text"===(null===(r=S.text)||void 0===r?void 0:r.type)&&Object(m.jsx)(G,Object(x.a)({label:null===(s=S.text)||void 0===s?void 0:s.name,rows:8,error:null===g||void 0===g||null===(i=g.text)||void 0===i?void 0:i.message},u("text",{required:"Tidak boleh kosong"}))),"richtext"===(null===(l=S.text)||void 0===l?void 0:l.type)&&Object(m.jsx)(R.a,{control:p,name:"text",rules:{required:"Tidak boleh kosong"},render:function(e){var t,a=e.field,c=a.onChange,n=a.value;return Object(m.jsx)(_,{onChange:function(e){return c(e)},value:n,label:null===(t=S.text)||void 0===t?void 0:t.name})}}),Object(m.jsx)(F,{type:"submit",className:"bg-blue-600",children:"Simpan"})]})]})}var te=a(13);function ae(){var e,t,a=f(),n=Object(c.useState)({}),r=Object(b.a)(n,2),s=r[0],i=r[1];return Object(c.useEffect)((function(){Object(o.a)(l.a.mark((function e(){var t,a,c,n,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,E.get("/post/count");case 3:t=e.sent.data.success.data,a={},c=Object(te.a)(t);try{for(c.s();!(n=c.n()).done;)r=n.value,a[r.postType]=r.count}catch(s){c.e(s)}finally{c.f()}i(a),e.next=12;break;case 10:e.prev=10,e.t0=e.catch(0);case 12:return e.abrupt("return");case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))(),a.dispatch({type:"titlePage",value:"Dashboard"})}),[]),Object(m.jsx)("div",{className:"grid grid-flow-row grid-cols-1 lg:grid-cols-4 gap-5",children:null===(e=a.state.formMapping)||void 0===e||null===(t=e.postType)||void 0===t?void 0:t.map((function(e,t){return Object(m.jsxs)("div",{className:"bg-white p-5 flex items-center",children:[Object(m.jsxs)("div",{className:"flex-1 flex flex-col",children:[Object(m.jsx)("span",{className:"w-full text-gray-500 roboto",children:e.name}),Object(m.jsx)("span",{className:"font-bold text-gray-700 text-2xl",children:s[e.key]||0})]}),Object(m.jsx)("div",{className:"ml-3 text-blue-400 text-xl",children:Object(m.jsx)(w.a,{icon:y[e.icon]||y.faTv})})]},"".concat(t))}))})}var ce=a(32),ne=a.n(ce);function re(){return Object(m.jsx)("div",{className:"h-32 flex justify-center items-center text-center text-gray-700 font-bold",children:Object(m.jsx)("span",{children:"Belum ada data"})})}function se(){var e=f(),t=Object(j.i)().type,a=Object(j.g)(),n=Object(c.useState)([]),r=Object(b.a)(n,2),s=r[0],i=r[1],l=Object(c.useState)(!1),o=Object(b.a)(l,2),d=o[0],x=o[1],h=Object(c.useState)(0),p=Object(b.a)(h,2),O=p[0],g=p[1],v=Object(c.useState)(0),N=Object(b.a)(v,2),k=N[0],C=N[1],P=Object(c.useState)(10),S=Object(b.a)(P,2),T=S[0];S[1];return Object(c.useEffect)((function(){var c,n=null===(c=e.state.formMapping.gallery)||void 0===c?void 0:c.find((function(e){return e.for===t}));n?e.dispatch({type:"titlePage",value:n.name}):a.push("/")}),[t]),Object(c.useEffect)((function(){x(!0),window.scrollTo(0,0),E.get("/post/".concat(t),{params:{offset:O,limit:T}}).then((function(e){x(!1),C(e.data.success.data.count),i(e.data.success.data.rows)})).catch((function(e){x(!1)}))}),[O,t]),Object(m.jsxs)(I,{children:[d?Object(m.jsx)(Y,{}):s.length?Object(m.jsx)(m.Fragment,{children:s.map((function(e,a){return Object(m.jsxs)("div",{className:"flex mb-5",children:[Object(m.jsxs)("div",{className:"text-gray-800 roboto lg:text-lg mr-3",children:[a+1,"."]}),Object(m.jsxs)("div",{children:[Object(m.jsx)("p",{className:"text-primary-900 font-bold roboto lg:text-lg",children:e.title}),Object(m.jsx)("div",{className:"flex items-center",children:Object(m.jsxs)(u.b,{to:"/gallery/".concat(t,"/").concat(e.id),className:"text-gray-500 hover:text-gray-700 text-sm mr-3",children:[Object(m.jsx)(w.a,{icon:y.faEye})," Lihat"]})})]})]})}))}):Object(m.jsx)(re,{}),Object(m.jsx)(ne.a,{nextLabel:"\xbb",previousLabel:"\xab",pageCount:Math.ceil(k/T),pageRangeDisplayed:3,marginPagesDisplayed:1,containerClassName:"flex justify-end mt-5",pageClassName:"text-gray-600",pageLinkClassName:"ml-1 text-sm py-1 px-2 border border-gray-500",previousLinkClassName:"text-gray-600 ml-1 text-sm py-1 px-2 border border-gray-500",nextLinkClassName:"text-gray-600 ml-1 text-sm py-1 px-2 border border-gray-500",activeLinkClassName:"bg-gray-500 text-white",initialPage:0,breakClassName:"ml-2 mr-1",onPageChange:function(e){var t=e.selected;return g(t*T)}})]})}var ie=a(40),le=a.n(ie),oe=a(41),be=a.n(oe),de=function(e){return e.fire({allowEnterKey:!1,allowEscapeKey:!1,allowOutsideClick:!1,showConfirmButton:!1,html:'<div class="flex flex-col justify-center items-center p-5"><div class="loader-black"/></div>'})},ue=be()(le.a);function je(){var e=f(),t=Object(c.useState)(!1),a=Object(b.a)(t,2),n=a[0],r=a[1],s=Object(j.g)(),i=Object(j.i)().id,d=Object(c.useState)(0),u=Object(b.a)(d,2),h=u[0],p=u[1],O=Object(c.useState)(0),g=Object(b.a)(O,2),v=g[0],N=g[1],k=Object(c.useState)(18),C=Object(b.a)(k,2),P=C[0],L=(C[1],Object(c.useState)([])),B=Object(b.a)(L,2),D=B[0],M=B[1],R=Object(c.useState)(null),A=Object(b.a)(R,2),F=A[0],z=A[1],q=Object(c.useCallback)((function(){r(!0),E.get("/gallery/post/".concat(i),{params:{offset:h}}).then((function(e){r(!1),M(e.data.success.data.rows),N(e.data.success.data.count)})).catch((function(e){r(!1)}))}),[i]);return Object(c.useEffect)((function(){Object(o.a)(l.a.mark((function t(){var a;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,E.get("/post/id/".concat(i));case 3:a=t.sent.data.success.data,t.next=10;break;case 6:return t.prev=6,t.t0=t.catch(0),s.push("/"),t.abrupt("return");case 10:e.dispatch({type:"titlePage",value:a.title});case 11:case"end":return t.stop()}}),t,null,[[0,6]])})))()}),[]),Object(c.useEffect)((function(){q()}),[h]),Object(m.jsxs)(I,{children:[Object(m.jsx)("div",{className:"pb-5 mb-5 border-b border-gray-300",children:Object(m.jsx)(U,{withoutPreview:!0,onChange:function(e){!function(e){if(!F){var t,a=new FormData,c=Object(te.a)(e);try{for(c.s();!(t=c.n()).done;){var n=t.value;a.append("gallery",n)}}catch(l){c.e(l)}finally{c.f()}var r=S.a.CancelToken.source(),s={cancel:r.cancel,progress:0};z(s),E.post("/gallery/".concat(i),a,{cancelToken:r.token,onUploadProgress:function(e){z((function(t){var a=t;return a.progress=Math.round(100*e.loaded/e.total),Object(x.a)({},a)}))}}).then((function(e){q(),z(null)})).catch((function(e){z(null)}))}}(e)}})}),n?Object(m.jsx)(Y,{}):D.length?Object(m.jsx)("div",{className:"grid grid-flow-row grid-cols-3 lg:grid-cols-6 gap-5",children:D.map((function(e,t){return Object(m.jsxs)("div",{className:"ratio-1-1 border border-gray-400",children:[Object(m.jsx)("img",{alt:"Gallery",className:"w-full h-full absolute top-0 left-0 object-cover",src:e.path.replace("public",T)}),Object(m.jsx)("div",{className:"bg-black p-1 bg-opacity-0 hover:bg-opacity-50 w-full h-full absolute top-0 left-0 flex items-start justify-end group",children:Object(m.jsx)("button",{onClick:function(){ue.fire({title:"Anda yakin?",text:"Anda akan menghapus gambar ini!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Ya, Lanjutkan!"}).then((function(t){t.isConfirmed&&function(e){de(ue),E.delete("/gallery/"+e).then((function(e){q(),ue.fire("Berhasil","Data telah dihapus","success")})).catch((function(e){ue.fire("Gagal","Data gagal dihapus","error")}))}(e.id)}))},className:"bg-red-600 text-white h-6 w-6 opacity-0 group-hover:opacity-100",children:Object(m.jsx)(w.a,{icon:y.faTimes})})})]},"".concat(t))}))}):Object(m.jsx)(re,{}),F&&Object(m.jsx)("div",{className:"absolute bottom-0 right-0 m-5 w-72",children:Object(m.jsx)("div",{className:"bg-white shadow-lg p-5",children:Object(m.jsxs)("div",{className:"mb-3 flex items-end",children:[Object(m.jsxs)("div",{className:"flex-1",children:[Object(m.jsx)("span",{className:"text-gray-700",children:"Mengunggah"}),Object(m.jsx)("div",{className:"w-full bg-gray-300 mt-1",children:Object(m.jsx)("div",{className:"h-2 bg-blue-500 transition-all duration-500",style:{width:"".concat(F.progress,"%")}})})]}),Object(m.jsx)("div",{className:"ml-3",children:Object(m.jsx)("button",{className:"bg-red-600 text-white h-6 w-6",onClick:function(){F.cancel(),z(null)},children:Object(m.jsx)(w.a,{icon:y.faTimes})})})]})})}),Object(m.jsx)(ne.a,{nextLabel:"\xbb",previousLabel:"\xab",pageCount:Math.ceil(v/P),pageRangeDisplayed:3,marginPagesDisplayed:1,containerClassName:"flex justify-end mt-5",pageClassName:"text-gray-600",pageLinkClassName:"ml-1 text-sm py-1 px-2 border border-gray-500",previousLinkClassName:"text-gray-600 ml-1 text-sm py-1 px-2 border border-gray-500",nextLinkClassName:"text-gray-600 ml-1 text-sm py-1 px-2 border border-gray-500",activeLinkClassName:"bg-gray-500 text-white",initialPage:0,breakClassName:"ml-2 mr-1",onPageChange:function(e){var t=e.selected;return p(t*P)}})]})}function xe(){var e=f(),t=Object(d.a)([]),a=Object(b.a)(t,2),n=(a[0],a[1]),r=Object(c.useState)(""),s=Object(b.a)(r,2),i=s[0],l=s[1],o=Object(c.useState)(""),u=Object(b.a)(o,2),x=u[0],h=u[1],p=Object(c.useState)(!1),O=Object(b.a)(p,2),g=O[0],v=O[1],y=Object(j.g)();return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(B.a,{children:Object(m.jsx)("title",{children:"Login"})}),Object(m.jsx)("div",{className:"bg-primary-50 w-full min-h-screen flex justify-center items-center p-5",children:Object(m.jsxs)("div",{className:"bg-white w-full md:w-1/2 lg:w-3/5 flex shadow-sm",children:[Object(m.jsx)("div",{className:"flex-1 bg-primary-800 p-5 items-center justify-center text-white hidden lg:flex",children:Object(m.jsx)("span",{className:"font-bold text-xl",children:"Content Dashboard"})}),Object(m.jsxs)("div",{className:"w-full lg:w-1/2 py-12 px-8",children:[Object(m.jsx)("div",{className:"text-2xl montserrat font-bold text-gray-800 mb-5 text-center",children:"Admin Panel"}),g&&Object(m.jsx)(A,{color:"red",className:"mb-5",children:"Username atau password anda salah"}),Object(m.jsxs)("form",{children:[Object(m.jsx)(q,{label:"Email",type:"text",value:i,onChange:function(e){return l(e.target.value)}}),Object(m.jsx)(q,{label:"Password",type:"password",value:x,onChange:function(e){return h(e.target.value)}}),Object(m.jsx)("div",{className:"text-right",children:Object(m.jsx)(F,{className:"bg-primary-800 hover:bg-primary-900",onClick:function(){E.get("/auth/login",{params:{email:i,password:x}}).then((function(t){var a=t.data.success.data.token;E.defaults.headers.common.Authorization="Bearer ".concat(a),E.get("/form-mapping").then((function(t){var c=t.data;v(!1),n("token",a,{path:"/",maxAge:86400}),e.dispatch({type:"formMapping",value:c}),e.dispatch({type:"auth",value:!0}),y.push("/")})).catch((function(e){}))})).catch((function(e){v(!0)}))},type:"button",children:"Masuk"})})]})]})]})})]})}var he=be()(le.a);function me(){var e=f(),t=Object(j.i)().type,a=Object(j.g)(),n=Object(c.useState)([]),r=Object(b.a)(n,2),s=r[0],i=r[1],l=Object(c.useState)(!1),o=Object(b.a)(l,2),d=o[0],x=o[1],h=Object(c.useState)(0),p=Object(b.a)(h,2),O=p[0],g=p[1],v=Object(c.useState)(0),N=Object(b.a)(v,2),k=N[0],C=N[1],P=Object(c.useState)(10),S=Object(b.a)(P,2),T=S[0],L=(S[1],function(){x(!0),window.scrollTo(0,0),E.get("/post/".concat(t),{params:{offset:O,limit:T,nodesc:"1"}}).then((function(e){x(!1),C(e.data.success.data.count),i(e.data.success.data.rows)})).catch((function(e){x(!1)}))});return Object(c.useEffect)((function(){var c,n=null===(c=e.state.formMapping.postType)||void 0===c?void 0:c.find((function(e){return e.key===t}));n?e.dispatch({type:"titlePage",value:n.name}):a.push("/")}),[t]),Object(c.useEffect)((function(){L()}),[O,t]),Object(m.jsxs)(I,{children:[d?Object(m.jsx)(Y,{}):Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("div",{className:"mb-5 pb-5 border-b border-gray-200",children:Object(m.jsx)(u.b,{to:"/".concat(t,"/add"),className:"p-2 px-5 text-white roboto rounded-none bg-green-700",children:"Tambah"})}),s.length?s.map((function(e,a){return Object(m.jsxs)("div",{className:"flex mb-5",children:[Object(m.jsxs)("div",{className:"text-gray-800 roboto lg:text-lg mr-3",children:[a+1,"."]}),Object(m.jsxs)("div",{children:[Object(m.jsx)("p",{className:"text-primary-900 font-bold roboto lg:text-lg",children:e.title}),Object(m.jsxs)("div",{className:"flex items-center",children:[Object(m.jsxs)(u.b,{to:"/".concat(t,"/edit/").concat(e.id),className:"text-gray-500 hover:text-gray-700 text-sm mr-3",children:[Object(m.jsx)(w.a,{icon:y.faPen})," Edit"]}),Object(m.jsxs)("span",{onClick:function(){he.fire({title:"Anda yakin?",text:"Anda akan menghapus ".concat(t," ini!"),icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Ya, Lanjutkan!"}).then((function(t){var a;t.isConfirmed&&(a=e.id,de(he),E.delete("/post/"+a).then((function(e){L(),he.fire("Berhasil","Data telah dihapus","success")})).catch((function(e){he.fire("Gagal","Data gagal dihapus","error")})))}))},className:"text-gray-500 hover:text-gray-700 ml-3 text-sm cursor-pointer",children:[Object(m.jsx)(w.a,{icon:y.faTrash})," Hapus"]})]})]})]})})):Object(m.jsx)(re,{})]}),Object(m.jsx)(ne.a,{nextLabel:"\xbb",previousLabel:"\xab",pageCount:Math.ceil(k/T),pageRangeDisplayed:3,marginPagesDisplayed:1,containerClassName:"flex justify-end mt-5",pageClassName:"text-gray-600",pageLinkClassName:"ml-1 text-sm py-1 px-2 border border-gray-500",previousLinkClassName:"text-gray-600 ml-1 text-sm py-1 px-2 border border-gray-500",nextLinkClassName:"text-gray-600 ml-1 text-sm py-1 px-2 border border-gray-500",activeLinkClassName:"bg-gray-500 text-white",initialPage:0,breakClassName:"ml-2 mr-1",onPageChange:function(e){var t=e.selected;return g(t*T)}})]})}var pe=be()(le.a);function fe(){var e=f(),t=Object(c.useState)([]),a=Object(b.a)(t,2),n=a[0],r=a[1],s=Object(c.useState)(!1),i=Object(b.a)(s,2),l=i[0],o=i[1],d=Object(c.useState)(0),j=Object(b.a)(d,2),x=j[0],h=j[1],p=Object(c.useState)(0),O=Object(b.a)(p,2),g=O[0],v=O[1],N=Object(c.useState)(10),k=Object(b.a)(N,2),C=k[0],P=(k[1],function(){o(!0),window.scrollTo(0,0),E.get("/blog",{params:{offset:x,limit:C}}).then((function(e){o(!1),v(e.data.success.data.count),r(e.data.success.data.rows)})).catch((function(e){o(!1)}))});return Object(c.useEffect)((function(){e.dispatch({type:"titlePage",value:"Blog"})}),[]),Object(c.useEffect)((function(){P()}),[x]),Object(m.jsxs)(I,{children:[l?Object(m.jsx)(Y,{}):Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("div",{className:"mb-5 pb-5 border-b border-gray-200",children:Object(m.jsx)(u.b,{to:"/blog/add",className:"p-2 px-5 text-white roboto rounded-none bg-green-700",children:"Tambah"})}),n.length?n.map((function(e,t){return Object(m.jsxs)("div",{className:"flex mb-5",children:[Object(m.jsxs)("div",{className:"text-gray-800 roboto lg:text-lg mr-3",children:[t+1,"."]}),Object(m.jsxs)("div",{children:[Object(m.jsx)("p",{className:"text-primary-900 font-bold roboto lg:text-lg",children:e.title}),Object(m.jsxs)("div",{className:"flex items-center",children:[Object(m.jsxs)(u.b,{to:"/blog/edit/".concat(e.id),className:"text-gray-500 hover:text-gray-700 text-sm mr-3",children:[Object(m.jsx)(w.a,{icon:y.faPen})," Edit"]}),Object(m.jsxs)("span",{onClick:function(){pe.fire({title:"Anda yakin?",text:"Anda akan menghapus blog ini!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Ya, Lanjutkan!"}).then((function(t){var a;t.isConfirmed&&(a=e.id,de(pe),E.delete("/blog/"+a).then((function(e){P(),pe.fire("Berhasil","Data telah dihapus","success")})).catch((function(e){pe.fire("Gagal","Data gagal dihapus","error")})))}))},className:"text-gray-500 hover:text-gray-700 ml-3 text-sm cursor-pointer",children:[Object(m.jsx)(w.a,{icon:y.faTrash})," Hapus"]})]})]})]})})):Object(m.jsx)(re,{})]}),Object(m.jsx)(ne.a,{nextLabel:"\xbb",previousLabel:"\xab",pageCount:Math.ceil(g/C),pageRangeDisplayed:3,marginPagesDisplayed:1,containerClassName:"flex justify-end mt-5",pageClassName:"text-gray-600",pageLinkClassName:"ml-1 text-sm py-1 px-2 border border-gray-500",previousLinkClassName:"text-gray-600 ml-1 text-sm py-1 px-2 border border-gray-500",nextLinkClassName:"text-gray-600 ml-1 text-sm py-1 px-2 border border-gray-500",activeLinkClassName:"bg-gray-500 text-white",initialPage:0,breakClassName:"ml-2 mr-1",onPageChange:function(e){var t=e.selected;return h(t*C)}})]})}var Oe=a(128),ge=Object(c.forwardRef)((function(e,t){var a=e.label,c=e.error,n=Object(h.a)(e,["label","error"]);return Object(m.jsxs)("div",{className:"mb-3",children:[Object(m.jsx)("label",{className:"roboto text-gray-700",children:a}),Object(m.jsx)(Oe.a,Object(x.a)({ref:t,classNamePrefix:"react-select"},n)),c&&Object(m.jsx)("span",{className:"text-sm text-red-600",children:c})]})}));function ve(){var e,t=f(),a=Object(j.i)(),n=a.action,r=a.id,s=Object(j.g)(),i=Object(R.b)(),d=i.register,u=i.control,h=i.handleSubmit,p=i.reset,O=Object(R.c)({control:u}).errors,g=Object(c.useState)([]),v=Object(b.a)(g,2),y=v[0],w=v[1],N=Object(c.useState)(!1),k=Object(b.a)(N,2),C=k[0],P=(k[1],Object(c.useState)(!1)),S=Object(b.a)(P,2),T=S[0],L=S[1],B=function(){var e=Object(o.a)(l.a.mark((function e(){var t,a,c,n,r,s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,E.get("/blog/category");case 3:t=e.sent.data,e.next=9;break;case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return");case 9:a=t.success,c=[],n=Object(te.a)(a.data);try{for(n.s();!(r=n.n()).done;)s=r.value,c.push({label:s.name,value:"".concat(s.id)})}catch(i){n.e(i)}finally{n.f()}return w(c),e.abrupt("return");case 15:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}(),D=function(){var e=Object(o.a)(l.a.mark((function e(){var t,a,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,E.get("/blog/".concat(r));case 3:t=e.sent.data,e.next=9;break;case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return");case 9:return a=t.success,c=(void 0===a?{}:a).data,p({title:c.title,body:c.body,category:"".concat(c.categoryId||"")}),e.abrupt("return");case 13:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}();return Object(c.useEffect)((function(){Object(o.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B();case 2:if("edit"!==n){e.next=5;break}return e.next=5,D();case 5:t.dispatch({type:"titlePage",value:("add"===n?"Tambah":"Edit")+" Blog"}),"add"!==n&&"edit"!==n&&s.push("/");case 7:case"end":return e.stop()}}),e)})))()}),[]),Object(m.jsxs)(I,{children:[T&&Object(m.jsx)(H,{}),C?Object(m.jsx)(Y,{}):Object(m.jsxs)("form",{onSubmit:h((function(e){var t=e.title,a=e.body,c=e.category;L(!0),E({method:"edit"===n?"PUT":"POST",url:"edit"===n?"/blog/".concat(r):"/blog",data:{title:t,body:a,category:c}}).then((function(e){s.push("/blog")})).catch((function(e){L(!1)}))})),children:[Object(m.jsx)(q,Object(x.a)({type:"text",label:"Judul",error:null===O||void 0===O||null===(e=O.title)||void 0===e?void 0:e.message},d("title",{required:"Tidak boleh kosong"}))),Object(m.jsx)(R.a,{control:u,name:"category",render:function(e){var t,a=e.field,c=a.value,n=a.onChange;return Object(m.jsx)(ge,{onChange:function(e){n((null===e||void 0===e?void 0:e.value)||"")},label:"Kategori",isClearable:!0,options:y,value:y.find((function(e){return e.value===c}))||{label:c,value:c},error:null===O||void 0===O||null===(t=O.category)||void 0===t?void 0:t.message})}}),Object(m.jsx)(R.a,{control:u,name:"body",defaultValue:"",rules:{required:"Tidak boleh kosong"},render:function(e){var t=e.field,a=t.onChange,c=t.value;return Object(m.jsx)(_,{onChange:function(e){return a(e)},value:c,label:"Teks Blog"})}}),Object(m.jsx)(F,{type:"submit",className:"bg-blue-600",children:"Simpan"})]})]})}function ye(){var e,t,a,n=f(),r=Object(c.useState)(!1),s=Object(b.a)(r,2),i=s[0],l=s[1],o=Object(c.useState)(!1),d=Object(b.a)(o,2),u=d[0],j=d[1],h=Object(R.b)(),p=h.control,O=h.register,g=h.handleSubmit,v=h.reset,y=h.watch,w=Object(R.c)({control:p}).errors,N=Object(c.useState)(!1),k=Object(b.a)(N,2),C=k[0],P=k[1];return Object(c.useEffect)((function(){n.dispatch({type:"titlePage",value:"Ganti Password"})}),[]),Object(m.jsxs)(I,{children:[C&&Object(m.jsx)(H,{}),Object(m.jsxs)("form",{className:"w-full lg:w-1/2",onSubmit:g((function(e){var t=e.oldPassword,a=e.newPassword;P(!0),E.put("/auth/change-password",{oldPassword:t,newPassword:a}).then((function(e){P(!1),l(!0),j(!1),v()})).catch((function(e){P(!1),l(!1),j(!0),v()}))})),children:[i&&Object(m.jsx)(A,{color:"green",className:"mb-5",collapse:!0,children:"Berhasil mengganti password"}),u&&Object(m.jsx)(A,{color:"red",className:"mb-5",collapse:!0,children:"Gagal mengganti password"}),Object(m.jsx)(q,Object(x.a)({label:"Password Lama",type:"password",error:null===(e=w.oldPassword)||void 0===e?void 0:e.message},O("oldPassword",{required:"Tidak boleh kosong"}))),Object(m.jsx)(q,Object(x.a)({label:"Password Baru",type:"password",error:null===(t=w.newPassword)||void 0===t?void 0:t.message},O("newPassword",{required:"Tidak boleh kosong"}))),Object(m.jsx)(q,Object(x.a)({label:"Ulangi Password Baru",type:"password",error:null===(a=w.newPassword1)||void 0===a?void 0:a.message},O("newPassword1",{required:"Tidak boleh kosong",validate:function(e){return e===y("newPassword")||"Ulangi password dengan benar"}}))),Object(m.jsx)(F,{type:"submit",className:"bg-blue-600",children:"Simpan"})]})]})}var we=function(){var e=Object(c.useState)(!0),t=Object(b.a)(e,2),a=t[0],n=t[1],r=Object(d.a)([]),s=Object(b.a)(r,1)[0],i=f();return Object(c.useEffect)((function(){Object(o.a)(l.a.mark((function e(){var t,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!s.token){e.next=12;break}return E.defaults.headers.common.Authorization="Bearer ".concat(s.token),i.dispatch({type:"auth",value:!0}),e.prev=3,e.next=6,E.get("/form-mapping");case 6:a=e.sent.data,e.next=12;break;case 9:e.prev=9,e.t0=e.catch(3),a=null;case 12:return e.prev=12,e.next=15,E.get("/basic-information");case 15:t=e.sent.data.success.data,e.next=21;break;case 18:e.prev=18,e.t1=e.catch(12),t=null;case 21:a&&i.dispatch({type:"formMapping",value:a}),t&&(i.dispatch({type:"basicInformation",value:t}),n(!1));case 23:case"end":return e.stop()}}),e,null,[[3,9],[12,18]])})))()}),[s.token]),a?Object(m.jsx)("div",{className:"w-full h-screen flex justify-center items-center bg-primary-900"}):Object(m.jsx)(u.a,{children:Object(m.jsxs)(j.d,{children:[Object(m.jsx)(j.b,{path:"/login",children:Object(m.jsx)(xe,{})}),Object(m.jsx)(M,{path:"/change-password",children:Object(m.jsx)(ye,{})}),Object(m.jsx)(M,{path:"/dashboard",children:Object(m.jsx)(ae,{})}),Object(m.jsx)(M,{path:"/blog/:action/:id",children:Object(m.jsx)(ve,{})}),Object(m.jsx)(M,{path:"/blog/:action",children:Object(m.jsx)(ve,{})}),Object(m.jsx)(M,{path:"/blog",children:Object(m.jsx)(fe,{})}),Object(m.jsx)(M,{path:"/basic-information",children:Object(m.jsx)(J,{})}),Object(m.jsx)(M,{path:"/gallery/:type/:id",children:Object(m.jsx)(je,{})}),Object(m.jsx)(M,{path:"/gallery/:type",children:Object(m.jsx)(se,{})}),Object(m.jsx)(M,{path:"/:type/:action/:id",children:Object(m.jsx)(ee,{})}),Object(m.jsx)(M,{path:"/:type/:action",children:Object(m.jsx)(ee,{})}),Object(m.jsx)(M,{path:"/:type",children:Object(m.jsx)(me,{})}),Object(m.jsx)(j.b,{path:"/",children:Object(m.jsx)(j.a,{to:"/dashboard"})})]})})},Ne=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,273)).then((function(t){var a=t.getCLS,c=t.getFID,n=t.getFCP,r=t.getLCP,s=t.getTTFB;a(e),c(e),n(e),r(e),s(e)}))},ke=(a(269),a(272));s.a.render(Object(m.jsx)(n.a.StrictMode,{children:Object(m.jsx)(ke.a,{children:Object(m.jsx)(g,{children:Object(m.jsx)(we,{})})})}),document.getElementById("root")),Ne()}},[[270,1,2]]]);
//# sourceMappingURL=main.54c023e6.chunk.js.map